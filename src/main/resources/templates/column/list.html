<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: head('칼럼 목록')}"></head>
<body>
<div th:replace="~{fragments/header :: navbar}"></div>

<main class="container">

  <div class="page-header">
    <h1 class="page-title">칼럼 목록</h1>
    <div th:if="${loginUser != null and (loginUser.role.name() == 'CURATOR' or loginUser.role.name() == 'ADMIN')}">
      <a th:href="@{/columns/new}" class="btn-primary">새 칼럼 작성</a>
    </div>
  </div>

  <div th:if="${#lists.isEmpty(columns)}" class="empty-state">
    <p>등록된 칼럼이 없습니다.</p>
  </div>

  <div th:if="${!#lists.isEmpty(columns)}" class="columns-list">
    <article th:each="col : ${columns}" class="column-card">
      <a th:href="@{'/columns/' + ${col.id}}" class="column-card-link">
        <h2 class="column-card-title" th:text="${col.title}">제목</h2>
        <div class="column-card-meta">
          <span class="column-author" th:text="${col.author.nickname}">작성자</span>
          <span class="column-date" th:text="${#temporals.format(col.createdAt, 'yyyy-MM-dd HH:mm')}">
            2025-01-01 12:00
          </span>
        </div>
      </a>
    </article>
  </div>

</main>
</body>
</html>
