<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: head('팔로잉 목록')}"></head>
<body>
<div th:replace="~{fragments/header :: navbar}"></div>

<main class="container">

  <div class="page-header">
    <h1 class="page-title">
      <span th:text="${targetUser.nickname}">닉네임</span>님이 팔로우하는 유저
    </h1>
    <a th:href="@{'/users/' + ${targetUser.id}}" class="link-back">← 프로필로 돌아가기</a>
  </div>

  <div th:if="${#lists.isEmpty(followingList)}" class="empty-state">
    <p>팔로우하는 유저가 없습니다.</p>
  </div>

  <div th:if="${!#lists.isEmpty(followingList)}" class="user-list">
    <div th:each="f : ${followingList}" class="user-list-item">

      <div class="user-info">
        <a th:href="@{'/users/' + ${f.toUser.id}}" class="user-name">
          <strong th:text="${f.toUser.nickname}">닉네임</strong>
        </a>
        <p class="user-description" th:text="${f.toUser.description}">소개글</p>
      </div>

      <div th:if="${loginUser != null and loginUser.id == targetUser.id}" class="user-actions">
        <form th:action="@{'/users/' + ${f.toUser.id} + '/unfollow'}"
              method="post">
          <button type="submit" class="btn-secondary">언팔로우</button>
        </form>
      </div>

    </div>
  </div>

</main>
</body>
</html>
