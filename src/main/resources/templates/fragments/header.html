<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head(title)">
  <meta charset="UTF-8">
  <title th:text="${title}">Muse</title>
  <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<header th:fragment="navbar">
  <nav style="display:flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #ddd;">
    <div>
      <a th:href="@{/}" style="margin-right: 10px; font-weight: bold;">Muse</a>
      <a th:href="@{/columns}" style="margin-right: 10px;">์นผ๋ผ</a>
      <a th:href="@{/songs}" style="margin-right: 10px;">๋ธ๋ ๋ชฉ๋ก</a>
      <a th:href="@{/recommendations}"style="margin-right: 10px;">๋ธ๋ ์ถ์ฒ</a>
      <!-- ์์: navbar fragment ์ -->
      <span th:if="${session.LOGIN_USER != null
           and session.LOGIN_USER.role.name() == 'ADMIN'}">
        <a th:href="@{/admin/users}">๊ด๋ฆฌ์</a>
      </span>
    </div>

    <!-- ๐ ๊ฒ์ ํผ ์ถ๊ฐ -->
    <form th:action="@{/search}" method="get" style="margin:0; display:flex; gap:4px;">
      <input type="text" name="query" placeholder="๋ธ๋ / ์์ / ์นผ๋ผ ๊ฒ์"
             style="padding:2px 6px;">
      <button type="submit">๊ฒ์</button>
    </form>


    <div>

      <!-- ๋ก๊ทธ์ธ O -->
      <span th:if="${session.LOGIN_USER != null}">
                 <a th:href="@{'/users/' + ${session.LOGIN_USER.id}}" style="margin-right:6px;">
                  <strong th:text="${session.LOGIN_USER.nickname}">๋๋ค์</strong>
                </a> ๋&nbsp;
                <form th:action="@{/logout}" method="post" style="display:inline;">
                    <button type="submit">๋ก๊ทธ์์</button>
                </form>
            </span>

      <!-- ๋ก๊ทธ์ธ X -->
      <span th:if="${session.LOGIN_USER == null}">
                <a th:href="@{/login}" style="margin-right: 8px;">๋ก๊ทธ์ธ</a>
                <a th:href="@{/signup}">ํ์๊ฐ์</a>
            </span>
    </div>
  </nav>
</header>
</body>
</html>
